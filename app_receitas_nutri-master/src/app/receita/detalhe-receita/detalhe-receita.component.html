<div class="container mt-4" *ngIf="!carregando && receita">
  <div class="row">
    <div class="col-md-6">
      <div class="card mb-4">
        <img [src]="receita.foto || 'assets/sem-imagem.jpg'" 
             class="card-img-top" 
             alt="{{receita.titulo}}">
      </div>
    </div>
    
    <div class="col-md-6">
      <div class="d-flex justify-content-between align-items-start mb-3">
        <h1>{{receita.titulo}}</h1>
        <button class="btn btn-lg" 
                [class.btn-outline-danger]="ehFavorita"
                [class.btn-outline-secondary]="!ehFavorita"
                (click)="toggleFavorito()">
          <i class="bi" [class.bi-heart-fill]="ehFavorita" [class.bi-heart]="!ehFavorita"></i>
        </button>
      </div>
      
      <div class="d-flex mb-4">
        <span class="badge bg-primary me-2">
          <i class="bi bi-clock"></i> {{receita.tempo}} min
        </span>
        <span class="badge bg-success me-2">
          <i class="bi bi-people"></i> {{receita.rendimento}} porções
        </span>
        <span class="badge bg-info">
          <i class="bi bi-calendar"></i> {{receita.horario}}
        </span>
      </div>
      
      <div class="card mb-4">
        <div class="card-header bg-light">
          <h5 class="mb-0">Informações Nutricionais</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-3 text-center">
              <div class="fw-bold">{{receita.caloriasTotais | number}}</div>
              <small>Calorias</small>
            </div>
            <div class="col-3 text-center">
              <div class="fw-bold">{{receita.proteinas | number}}</div>
              <small>Proteínas (g)</small>
            </div>
            <div class="col-3 text-center">
              <div class="fw-bold">{{receita.carboidratos | number}}</div>
              <small>Carboidratos (g)</small>
            </div>
            <div class="col-3 text-center">
              <div class="fw-bold">{{receita.gorduras | number}}</div>
              <small>Gorduras (g)</small>
            </div>
          </div>
        </div>
      </div>
      
      <div class="d-grid gap-2 d-md-flex">
        <button class="btn btn-primary" (click)="marcarComoFeita()">
          <i class="bi bi-check-circle"></i> Marcar como Feita
        </button>
        <button class="btn btn-outline-secondary">
          <i class="bi bi-printer"></i> Imprimir
        </button>
      </div>
    </div>
  </div>
  
  <div class="row mt-4">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-light">
          <h5 class="mb-0">Ingredientes</h5>
        </div>
        <div class="card-body">
          <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngFor="let ingrediente of receita.ingredientes">
              <div class="d-flex justify-content-between">
                <span>{{ingrediente.ingrediente.descricao}}</span>
                <span class="fw-bold">
                  {{ingrediente.quantidade}} {{ingrediente.ingrediente.unidadeMedida}}
                </span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    
    <div class="col-md-6">
      <div class="card">
        <div class="card-header bg-light">
          <h5 class="mb-0">Modo de Preparo</h5>
        </div>
        <div class="card-body">
          <ol>
            <li *ngFor="let passo of receita.preparo.split('\n')" class="mb-2">
              {{passo}}
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="carregando" class="text-center mt-5">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Carregando...</span>
  </div>
</div>
